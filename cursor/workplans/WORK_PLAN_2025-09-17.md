# Work Plan - September 17, 2025

## **Session Overview**
- **Date**: September 17, 2025  
- **Focus**: Address remaining open GitHub issues and reintroduce functionality that was commented out due to performance issues that have been addressed  
- **Priority**: Quick wins to start the day well, then move into re-introducing new bin-level data.
- **Milestone**: All Issues are in Milestone #11 (Tokyo)
- **Next Milestone**: Boston #12

---

## ** INSTRUCTIONS FOR CURSOR **
1. Review all Issues and issue comments (entire contents) and confirm understanding of each. 
2. Provide technical implementation for Sub-Issue 206. 
3. Confirm or adjust grouping.
4. Propose order within groups.
5. Some of the content was provided by ChatGPT that has a 1+ year history of the Fredericton Marathon. Do you have questions for ChatGPT before starting?
6. Ensure you have a full/complete understanding of how to use APIs, the functions in /app modules, and are confident in starting work on the below. 

---

## ** REVIEW FOR CLOSURE **
I think this can be closed:

#### **Issue #160 - CI Version Consistency**
- **Priority**: LOW - Pipeline improvement
- **Status**: Believe addressed last night in Issue #202.
- **Key Problems**:
  - CI version consistency is still failing
  - Follow-up to Issue #150
  - Pipeline optimization needed
- **Impact**: Deployment process

## **üìã BACKLOG FOR NOW **
I recommend the following issues be in the backlog as they are not a high priority for me. So, unless Cursor says otherwise, I'd park them. 

#### ** Issue #85 - Density Phase 2+**
- **Priority**: LOW - Advanced features
- **Status**: Backlog, pending PM review.
- **Key Problems**:
  - Full template system implementation
  - Advanced features development
  - Comprehensive testing framework
- **Impact**: Advanced functionality

#### **Issue #145 - Code Hygiene Review**
- **Priority**: LOW - General cleanup
- **Status**: Backlog until we've completed additional features, like Issue #189 (new) and Issue #165 (known issue we don't need a code review to highlight).
- **Key Problems**:
  - General code cleanup needed
  - Code quality improvements
  - Technical debt reduction
- **Impact**: Code maintainability

## **üìã SHOULD BE QUICK WINS**
Each will have its own dev-branch:

#### **Issue #189 - Runflow UI Enhancements**
- **Why?**: UI/UX polish and branding consistency
- **Status**: Issue 189 contains details and sub-tasks (Issues #203 to #207) for the proposed frontend improvements
- **Key Problems Identified**:
  - **Header Issues**: Inconsistent branding ('run-density' vs 'Runflow')
  - **Footer Issues**: Footer text references 'run-density' instead of 'Runflow'
  - **Dashboard Layout**: Redundant sections, cramped Key Metrics tiles
  - **Reports Page**: Add runners.csv, segments.csv and expected_results.csv download; new look and feel. Before starting work, review how the download works for flow and density.py. See issue comments for background and the experience of implementing flow/density, as discussed in comments on Issue #190.
  - **Health Check**: Missing navigation, inconsistent styling, small fonts
- **Implementation Strategy**:
  1. **Standardize branding** on 'Runflow' across all pages
  2. **Fix dashboard layout** - remove redundant sections, expand Key Metrics
  3. **Enhance reports page** - add new files for download, new look and feel.
  4. **Improve health check** - add navigation, fix styling, increase font sizes

#### **Issue #182 - Align Markdown Report Headers**
- **Why**: Report consistency and professionalism; helps with QA.
- **Status**: Reviewed current reports and verified that still needs to be done. See the Issue with the attached reports in the comment.
- **Key Problems**:
  - Different header formats between Density and Flow reports
  - Missing standardized fields (Version, Environment, Analysis Engine)
  - Inconsistent ordering and content
- **Impact**: Unprofessional appearance, inconsistent documentation

#### **Issue #165 - Remove Hardcoded Values**
- **Why**: Code quality and maintainability
- **Status**: Review code base first to ensure these changes were not already addressed. This issue might have been completed and not closed. This is important to clean up before moving to 198.
- **Key Problems**:
  - Hardcoded values in maps code (backend and frontend)
  - Data file paths, start times, map coordinates
  - Need centralized configuration in constants.py
- **Impact**: Code maintainability, configuration management

#### **Issue #164 - Add Single-Segment Testing**
- **Why?**: Development workflow improvement having single-segment Density (flow appears to exist). See the comment on the Issue for more details.
- **Status**: Do we need it for testing purposes with Issue #198? If yes, add to Quick Wins.
- **Key Problems**:
  - Need single-segment testing mode for development
  - Improve development efficiency
  - Faster iteration cycles
- **Impact**: Development productivity
- 
Once those three are complete, 

## ** NOT SO QUICK WIN **

#### **4. Issue #198 - Re-enable Bin Dataset Generation**
- **Priority**: HIGH - Performance optimization
- **Status**: Enhancement - Cloud Run configuration improvement
- **Key Problems**:
  - Bin dataset generation disabled to prevent Cloud Run timeouts
  - Need improved configuration for the production environment
  - Performance optimization required
- **Impact**: Missing functionality, performance limitations

---

## **‚è∞ TIME ALLOCATION STRATEGY**

### **Morning Session (Quick Wins)**
- **Focus**: Issues: 160, 182, 165, 189 and maybe 164.
- **Goal**: get a quick win, without major issues during development, like we've experienced. Be cautious in implementation, take time to understand current functionality, understand the APIs and what they expect for parameters, and understand how current download files work local vs. cloud storage. NO BREAKING CHANGES -- be very conscious of commits while in the dev-branch for roll-back and never git-push to main without end-user manual review of PR.
- **Deliverables**: Consistent UI, improved dashboard layout, enhanced reports page

### **Afternoon Session (Operational Intelligence)**
- **Focus**: Issues #198
- **Goal**: Improved operational planning and intelligence with more granular, bin-level data.
- **Deliverables**: Improved operational reporting and insights.

### **Evening Session (Prep for tomorrow)**
- **Focus**: Prepare chat summary and lessons learned today, and workplan for tomorrow
- - **Goal**: Well prepared to start work tomorrow.
- **Deliverables**: Chat Summary and Workplan (see /cursor for examples, including this doc)

---

## **üöÄ SUCCESS METRICS**

### **Critical Success Criteria**
- ‚úÖ All frontend pages use consistent 'Runflow' branding
- ‚úÖ Dashboard layout improved with proper spacing and no redundant sections
- ‚úÖ Reports page enhanced
- ‚úÖ Health check page has proper navigation and styling
- ‚úÖ E2E report metadata shows correct timestamps and versions
- ‚úÖ Markdown report headers are consistent across all report types
- ‚úÖ Restored bin-level reporting functionality previously disabled

### **Quality Assurance**
- ‚úÖ All pages tested for responsive design
- ‚úÖ All buttons and links functional
- ‚úÖ Cross-browser compatibility verified
- ‚úÖ Performance optimized for Cloud Run environment

---

## **üìÅ EXPECTED FILE MODIFICATIONS**

### **Frontend Files**
- `frontend/index.html` - Header, footer, dashboard layout improvements
- `frontend/health.html` - Navigation, styling, environment detection
- `frontend/reports.html` - Descriptions, additional CSV tiles
- `frontend/map.html` - Header, footer consistency
- `frontend/password.html` - Header, footer consistency
- `frontend/css/main.css` - Key metrics spacing, font sizes, responsive design

### **Backend Files**
- `app/main.py` - Add CSV download endpoints
- `app/constants.py` - Centralize configuration values
- `app/end_to_end_testing.py` - Fix metadata accuracy
- `app/density_report.py` - Consistent header formatting
- `app/flow_report.py` - Consistent header formatting

### **Configuration Files**
- `.github/workflows/ci-pipeline.yml` - Fix version consistency
- `app/version.py` - Ensure proper version management

---

## **üéØ DEMO READINESS CHECKLIST**

### **Frontend Polish** ‚úÖ Target
- [ ] Consistent 'Runflow' branding across all pages
- [ ] Improved dashboard layout with proper spacing
- [ ] Enhanced reports page with CSV downloads
- [ ] Professional health check page with navigation

### **Report Quality** ‚úÖ Target
- [ ] Accurate E2E report metadata (timestamps, versions, environment)
- [ ] Consistent markdown report headers
- [ ] Professional report formatting
- [ ] Proper environment detection

### **Performance & Configuration** ‚úÖ Target
- [ ] Bin dataset generation re-enabled
- [ ] Optimized Cloud Run configuration
- [ ] Centralized configuration management
- [ ] Improved development workflow

---

**Prepared by**: Jeff and AI Assistant  
**Date**: September 16, 2025
**Next Review**: End of day status update  
**Priority**: Complete remaining open issues for project completion

**Note**: This work plan focuses on addressing all remaining open issues to achieve complete project functionality and demo readiness. The priority order ensures critical frontend work is completed first, followed by quality improvements and performance optimizations.
