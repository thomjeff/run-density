# End-to-End Testing Report

**Generated:** 2025-09-15 06:44:00

**Environment:** https://run-density-ln4r3sfkha-uc.a.run.app (Cloud Run Production)

**Version:** v1.6.28

**Test Type:** Streamlined End-to-End Testing

**Overall Status:** ‚ùå FAILED

## Test Summary

| Test Category | Status | Details |
|---------------|--------|---------|
| API Endpoints | ‚ùå FAILED | All API endpoints responding correctly |
| Report Files | ‚úÖ PASSED | All required report files generated |
| Actual vs Expected | ‚úÖ PASSED | Validation: 29/29 segments (100.0% success) |
| Content Quality | ‚ùå FAILED | Report content validation |

## Files Created

- `reports/2025-09-15/2025-09-15-0633-Flow.md`
- `reports/2025-09-15/2025-09-15-0633-Flow.csv`
- `reports/2025-09-15/2025-09-15-0645-Density.md`

## Detailed Test Results

### API Endpoint Testing

- **health**: ‚úÖ PASSED
- **ready**: ‚úÖ PASSED
- **density_report**: ‚úÖ PASSED
- **temporal_flow_report**: ‚ùå FAILED
- **temporal_flow**: ‚ùå FAILED

### Report File Testing

- **temporal_flow_md**: ‚úÖ PASSED
- **temporal_flow_csv**: ‚úÖ PASSED
- **density_md**: ‚úÖ PASSED

### Content Quality Testing

#### Temporal Flow

- ‚úÖ Proper event names (10K Range, Half Range)
- ‚úÖ No generic names (Event A Range)
- ‚úÖ No NaN values

#### Density

- ‚ùå Proper segment names (A1: Start to Queen/Regent)
- ‚úÖ No unknown segments
- ‚úÖ Proper counts (Total Segments: 22)


## Raw Test Output

<details>
<summary>Click to view raw terminal output</summary>

```
=== STREAMLINED END-TO-END TESTING ===
Testing core API endpoints and report generation (Flow + Density only)

=== PREFLIGHT VALIDATION ===

‚úÖ Preflight validation passed: 53 checks passed
   File: data/segments.csv
   Rows: 22, Columns: 27
=== API ENDPOINT TESTING ===

1. Testing Health and Ready Endpoints...
   /health: 200 ‚úÖ
   /ready: 200 ‚úÖ

2. Testing Report Generation Endpoints...
   /api/density-report: 200 ‚úÖ
   /api/temporal-flow-report: 503 ‚ùå
   /api/temporal-flow: 503 ‚ùå

API Endpoint Testing: ‚ùå SOME FAILED

=== REPORT FILE TESTING ===

1. Temporal Flow MD files: ‚úÖ
2. Temporal Flow CSV files: ‚úÖ
3. Density Analysis MD files: ‚úÖ

Report File Testing: ‚úÖ ALL PASSED

=== REPORT CONTENT QUALITY TESTING ===

1. Testing Temporal Flow Report Content...
   Proper event names (10K Range, Half Range): ‚úÖ
   No generic names (Event A Range): ‚úÖ
   No NaN values: ‚úÖ

2. Testing Density Analysis Report Content...
   Proper segment names (A1: Start to Queen/Regent): ‚ùå
   No unknown segments: ‚úÖ
   Proper counts (Total Segments: 22): ‚úÖ (Density analyzes physical course segments, while Flow analyzes runner pairs - hence different counts)

3. Testing Actual vs Expected Flow Results Validation...
   Validating Actual vs Expected Flow Results:
   ================================================================================
   ‚úÖ MATCH A1, Start to Queen/Regent, Full vs Half, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A1, Start to Queen/Regent, Full vs 10K, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A1, Start to Queen/Regent, Half vs 10K, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A2, Queen/Regent to WSB mid-point, Full vs Half, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A2, Queen/Regent to WSB mid-point, Full vs 10K, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A2, Queen/Regent to WSB mid-point, Half vs 10K, overtake, 34/1, 34/1, 3.7/0.2, 3.7/0.2
   ‚úÖ MATCH A3, WSB mid-point to Friel, Full vs Half, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A3, WSB mid-point to Friel, Full vs 10K, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH A3, WSB mid-point to Friel, Half vs 10K, overtake, 128/13, 128/13, 14.0/2.1, 14.0/2.1
   ‚úÖ MATCH B1, Friel to 10K Turn, Full vs 10K, overtake, 11/16, 11/16, 3.0/2.6, 3.0/2.6
   ‚úÖ MATCH B2, 10K Turn to Friel, Full vs 10K, overtake, 81/56, 81/56, 22.0/9.1, 22.0/9.1
   ‚úÖ MATCH B3, 10K Turn to Friel, Full vs 10K, overtake, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH F1, Friel to Station Rd., Full vs Half, parallel, 52/56, 52/56, 14.1/6.1, 14.1/6.1
   ‚úÖ MATCH F1, Friel to Station Rd., Full vs 10K, parallel, 171/122, 171/122, 46.5/19.7, 46.5/19.7
   ‚úÖ MATCH F1, Friel to Station Rd., Half vs 10K, parallel, 694/451, 694/451, 76.1/73.0, 76.1/73.0
   ‚úÖ MATCH H1, Trail/Aberdeen to/from Station Rd, Full vs Half, counterflow, 203/431, 203/431, 55.2/47.3, 55.2/47.3
   ‚úÖ MATCH H1, Trail/Aberdeen to/from Station Rd, Full vs 10K, counterflow, 119/87, 119/87, 32.3/14.1, 32.3/14.1
   ‚úÖ MATCH H1, Trail/Aberdeen to/from Station Rd, Half vs 10K, counterflow, 11/10, 11/10, 1.2/1.6, 1.2/1.6
   ‚úÖ MATCH I1, Station Rd to Bridge/Mill, Full vs Half, counterflow, 42/9, 42/9, 11.4/1.0, 11.4/1.0
   ‚úÖ MATCH J1, Bridge/Mill to Half Turn (Outbound), Full vs Half, counterflow, 147/209, 147/209, 39.9/22.9, 39.9/22.9
   ‚úÖ MATCH J4, Half Turn to Bridge/Mill, Full vs Half, counterflow, 130/170, 130/170, 35.3/18.6, 35.3/18.6
   ‚úÖ MATCH J5, Half Turn to Bridge/Mill (Slow Half), Full vs Half, counterflow, 45/24, 45/24, 12.2/2.6, 12.2/2.6
   ‚úÖ MATCH K1, Bridge/Mill to Station Rd, Full vs Half, counterflow, 180/244, 180/244, 48.9/26.8, 48.9/26.8
   ‚úÖ MATCH L1, Trail/Aberdeen to/from Station Rd, Full vs Half, counterflow, 0/0, 0/0, 0.0/0.0, 0.0/0.0
   ‚úÖ MATCH L1, Trail/Aberdeen to/from Station Rd, Full vs 10K, counterflow, 206/217, 206/217, 56.0/35.1, 56.0/35.1
   ‚úÖ MATCH L1, Trail/Aberdeen to/from Station Rd, Half vs 10K, counterflow, 11/10, 11/10, 1.2/1.6, 1.2/1.6
   ‚úÖ MATCH M1, Trail/Aberdeen to Finish (Full to Loop), Full vs Half, overtake, 66/96, 66/96, 17.9/10.5, 17.9/10.5
   ‚úÖ MATCH M1, Trail/Aberdeen to Finish (Full to Loop), Full vs 10K, overtake, 124/141, 124/141, 33.7/22.8, 33.7/22.8
   ‚úÖ MATCH M1, Trail/Aberdeen to Finish (Full to Loop), Half vs 10K, overtake, 17/12, 17/12, 1.9/1.9, 1.9/1.9
   ================================================================================
   Overall Validation: ‚úÖ ALL MATCH

Overall Report Quality: ‚ùå ISSUES FOUND

‚úÖ Saved density report from Cloud Run: reports/2025-09-15/2025-09-15-0645-Density.md
=== FINAL SUMMARY ===
Date: 2025-09-15-0645
Environment: https://run-density-ln4r3sfkha-uc.a.run.app (Cloud Run Production)
Version: v1.6.28
API Endpoints: ‚ùå FAILED
Report Files: ‚úÖ PASSED
   Files Created:
   - reports/2025-09-15/2025-09-15-0645-Density.md
Actual to Expected: ‚úÖ PASSED (Validation: 29/29 segments, 100.0% success)
Content Quality: ‚ùå FAILED

‚ö†Ô∏è  Some tests failed - review before production deployment

üìù NOTE: Flow Runner detailed analysis is not included in automated tests due to computational requirements.
   Flow Runner reports can be run locally (not currently supported in production) using:
   curl -X POST 'http://localhost:8080/api/flow-audit' \
     -H 'Content-Type: application/json' \
     -d '{"paceCsv": "data/runners.csv", "segmentsCsv": "data/segments.csv", "startTimes": {"Full": 420, "10K": 440, "Half": 460}}'

=== STREAMLINED END-TO-END TESTING COMPLETE ===

```

</details>

## Important Notes

üìù **Flow Runner Analysis**: Flow Runner detailed analysis is not included in automated tests due to computational requirements. Flow Runner reports can be run locally (not currently supported in production) using:

```bash
curl -X POST 'http://localhost:8080/api/flow-audit' \
  -H 'Content-Type: application/json' \
  -d '{"paceCsv": "data/runners.csv", "segmentsCsv": "data/segments.csv", "startTimes": {"Full": 420, "10K": 440, "Half": 460}}'
```

## Conclusion

‚ö†Ô∏è Some tests failed. Please review the results before production deployment.

---
*Report generated by run-density end-to-end testing suite*
